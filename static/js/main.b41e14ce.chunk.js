(this["webpackJsonptrucks-finder"]=this["webpackJsonptrucks-finder"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){},,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(7),i=n.n(s),r=(n(14),n(0));function o(){return Object(r.jsx)("aside",{className:"sidebar-menu",children:Object(r.jsxs)("nav",{className:"sidebar-menu__nav",children:[Object(r.jsx)("p",{className:"nav__item",children:"Dashboard"}),Object(r.jsx)("p",{className:"nav__item",children:"Logout"})]})})}var l=n(9),u=n(2),d=n(6),j=n.n(d),h=n(8);n(17);function b(e){var t=e.children,n=e.type;return Object(r.jsx)("div",{className:"alert alert__".concat(n),children:t})}var f,O;n(18);function v(e){var t=e.id,n=e.label,c=e.onClick,a=e.className,s=void 0===a?"":a;return Object(r.jsx)("button",{className:"button ".concat(s),id:t,onClick:c,children:n})}function p(e){var t=e.direction,n=e.color,c=void 0===n?"#002233":n,a=e.className;return Object(r.jsx)("svg",{width:"20",height:"20",className:null!==a&&void 0!==a?a:"",children:Object(r.jsx)("path",{d:function(){switch(t){case f.UP:return"M9.99997 5C9.67737 5 9.35482 5.12005 9.10887 5.35964L1.36926 12.9028C0.876915 13.3826 0.876915 14.1606 1.36926 14.6403C1.8614 15.1199 2.65948 15.1199 3.15186 14.6403L9.99997 7.96565L16.8481 14.64C17.3405 15.1197 18.1385 15.1197 18.6306 14.64C19.1231 14.1604 19.1231 13.3824 18.6306 12.9026L10.8911 5.3594C10.645 5.11978 10.3224 5 9.99997 5Z";case f.DOWN:return"M10 15C10.3226 15 10.6452 14.88 10.8911 14.6404L18.6307 7.09719C19.1231 6.61736 19.1231 5.83938 18.6307 5.35973C18.1386 4.88009 17.3405 4.88009 16.8481 5.35973L10 12.0343L3.15188 5.35997C2.65954 4.88032 1.86154 4.88032 1.36943 5.35997C0.876856 5.83961 0.876855 6.61759 1.36943 7.09743L9.10892 14.6406C9.35499 14.8802 9.67755 15 10 15Z"}}(),fill:c})})}!function(e){e[e.UP=0]="UP",e[e.DOWN=1]="DOWN"}(f||(f={})),function(e){e.LOWEST_BID="LOWEST_BID",e.HIGHEST_BID="HIGHEST_BID",e.NEWEST="NEWEST",e.OLDEST="OLDEST"}(O||(O={}));var x=[{id:O.LOWEST_BID,label:"Lowest Bid"},{id:O.HIGHEST_BID,label:"Highest Bid"},{id:O.NEWEST,label:"Newest Publishings"},{id:O.OLDEST,label:"Oldest Publishings"}];n(19);function m(e){var t,n,a=e.onChange,s=e.options,i=Object(c.useState)(!1),o=Object(u.a)(i,2),l=o[0],d=o[1],j=Object(c.useState)(null),h=Object(u.a)(j,2),b=h[0],v=h[1],x=function(){return d(!l)};return Object(c.useEffect)((function(){b&&a(O[b.id])}),[b,a]),Object(r.jsxs)("div",{className:"select-input",onClick:x,children:[Object(r.jsxs)("div",{className:"select-input__selected",children:[Object(r.jsx)("span",{className:"label",children:null!==(t=null===b||void 0===b?void 0:b.label)&&void 0!==t?t:"Sorting Criteria"}),Object(r.jsx)(p,{direction:l?f.UP:f.DOWN,className:"icon"})]}),Object(r.jsx)("div",{className:"select-input__options ".concat(l?"select-input__options--opened":"select-input__options--closed"),children:(n=s,n.map((function(e){return Object(r.jsx)("div",{className:"".concat((null===b||void 0===b?void 0:b.id)===e.id?"option option--pressed":"option"),onClick:function(){return function(e){v(e),x()}(e)},children:e.label},e.id)})))})]})}n(20);function g(e){var t=e.id,n=e.onChange,c=e.placeholder,a=e.className,s=void 0===a?"":a;return Object(r.jsx)("input",{id:t,placeholder:c,className:"text-input ".concat(s),type:"text",name:t,"aria-label":t,onChange:function(e){return n(e)}})}n(21);function _(e){var t=e.onSearch,n=e.onSearchClick,a=e.onSorting,s=Object(c.useState)(""),i=Object(u.a)(s,2),o=i[0],l=i[1],d=Object(c.useState)(!1),j=Object(u.a)(d,2),h=j[0],b=j[1];return Object(r.jsxs)("header",{className:"listing-header",children:[Object(r.jsxs)("div",{className:"listing-header__search",children:[Object(r.jsx)(g,{placeholder:"At least 3 characters needed to search",className:"search__input",id:"Search",onChange:function(e){var n,c;l(null===e||void 0===e||null===(n=e.currentTarget)||void 0===n?void 0:n.value),h&&t(null===e||void 0===e||null===(c=e.currentTarget)||void 0===c?void 0:c.value)}}),Object(r.jsx)(v,{className:"search__button",id:"search-button",label:"Search",onClick:function(){return n(o)}}),Object(r.jsxs)("div",{className:"search__toggle",children:[Object(r.jsx)("input",{type:"checkbox",id:"liveSearch",name:"liveSearch",checked:h,onChange:function(e){var t;return b(null===e||void 0===e||null===(t=e.currentTarget)||void 0===t?void 0:t.checked)}}),Object(r.jsx)("label",{htmlFor:"liveSearch",children:"Live Search?"})]})]}),Object(r.jsxs)("div",{className:"listing-header__sorting",children:[Object(r.jsx)("span",{className:"label",children:"Sort"}),Object(r.jsx)(m,{options:x,onChange:function(e){return a(e)}})]})]})}n(22);function N(e){return Object(r.jsx)("span",{className:"tag",children:e.tag})}n(23);function C(e){var t=e.title,n=e.tags,c=e.shortCode,a=e.location;return Object(r.jsxs)("div",{className:"details",children:[Object(r.jsx)("h1",{className:"details__title",children:t}),Object(r.jsx)("div",{className:"details__tags",children:n.map((function(e,t){return Object(r.jsx)(N,{tag:e},"".concat(e,"-").concat(t))}))}),Object(r.jsxs)("div",{className:"details__footer",children:[Object(r.jsx)("span",{className:"code",children:c}),Object(r.jsxs)("p",{className:"location",children:[Object(r.jsx)("span",{children:Object(r.jsx)("svg",{viewBox:"0 0 20 20",width:"20px",height:"20px",children:Object(r.jsx)("path",{d:"M6.99999 0C3.32406 0 0.333313 2.99074 0.333313 6.66668C0.333313 7.7702 0.609211 8.86434 1.1337 9.8348L6.63542 19.7852C6.70867 19.9178 6.84823 20 6.99999 20C7.15175 20 7.29132 19.9178 7.36456 19.7852L12.8683 9.83152C13.3908 8.86434 13.6667 7.77016 13.6667 6.66664C13.6667 2.99074 10.6759 0 6.99999 0ZM6.99999 10C5.16202 10 3.66667 8.50465 3.66667 6.66668C3.66667 4.82871 5.16202 3.33336 6.99999 3.33336C8.83796 3.33336 10.3333 4.82871 10.3333 6.66668C10.3333 8.50465 8.83796 10 6.99999 10Z",fill:"#33667E"})})}),Object(r.jsx)("span",{children:a})]})]})]})}n(24);function S(e){var t=e.offer,n=t.title,c=t.tags,a=t.shortCode,s=t.location,i=t.askPrice,o=t.highestBid;return Object(r.jsxs)("div",{className:"list-item",children:[Object(r.jsx)("img",{className:"item__image",src:t.vehicle_picture_front,alt:"offer"}),Object(r.jsx)(C,{title:n,tags:c,shortCode:a,location:s}),Object(r.jsxs)("div",{className:"item__price",children:[Object(r.jsxs)("div",{className:"ask-price",children:[Object(r.jsx)("span",{className:"ask-price__label",children:"Ask Price"}),Object(r.jsxs)("span",{className:"ask-price__value",children:[i," \u20ac"]})]}),Object(r.jsxs)("div",{className:"current-offer",children:[Object(r.jsx)("span",{className:"current-offer__label",children:"Current Offer"}),Object(r.jsxs)("span",{className:"current-offer__value",children:[o," \u20ac"]})]})]})]})}var L="".concat("https://truckoo-backend-aqkoiog6bq-ew.a.run.app/rest","/").concat("v1","/").concat("offers","/").concat("active-offers"),E=(n(25),{method:"GET",headers:{"accept-language":"en-US","content-type":"application/json"}});function k(){var e=function(e){var t=e.url,n=e.options,a=Object(c.useState)(),s=Object(u.a)(a,2),i=s[0],r=s[1],o=Object(c.useState)(),l=Object(u.a)(o,2),d=l[0],b=l[1],f=Object(c.useState)(!0),O=Object(u.a)(f,2),v=O[0],p=O[1];return Object(c.useEffect)((function(){function e(){return(e=Object(h.a)(j.a.mark((function e(){var c,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,n);case 3:if(200===(c=e.sent).status){e.next=9;break}r(void 0),b(c),e.next=13;break;case 9:return e.next=11,c.json();case 11:a=e.sent,r(a);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),b(e.t0);case 18:p(!1);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}b(void 0),function(){e.apply(this,arguments)}()}),[t,n]),{response:i,error:d,loading:v}}({url:L,options:E}),t=e.response,n=e.error,a=e.loading,s=Object(c.useState)(),i=Object(u.a)(s,2),o=i[0],d=i[1],f=Object(c.useState)([]),v=Object(u.a)(f,2),p=v[0],x=v[1],m=Object(c.useState)(""),g=Object(u.a)(m,2),N=g[0],C=g[1],k=Object(c.useState)(),D=Object(u.a)(k,2),T=D[0],w=D[1],B=function(e){return C(e)};Object(c.useEffect)((function(){x(function(){var e=Object(l.a)(p);switch(T){case O.HIGHEST_BID:return e.sort((function(e,t){return t.highestBid-e.highestBid}));case O.LOWEST_BID:return e.sort((function(e,t){return e.highestBid-t.highestBid}));case O.NEWEST:return e.sort((function(e,t){return new Date(t.offerPublicationDate).getTime()-new Date(e.offerPublicationDate).getTime()}));case O.OLDEST:return e.sort((function(e,t){return new Date(e.offerPublicationDate).getTime()-new Date(t.offerPublicationDate).getTime()}));default:return e}}())}),[T]),Object(c.useEffect)((function(){x(function(){var e=N.toLocaleLowerCase().split(" ").filter((function(e){return e.length>=3}));return N.length<3?null!==o&&void 0!==o?o:[]:(null!==o&&void 0!==o?o:[]).filter((function(t){var n=t.tags.join().toLocaleLowerCase(),c=t.title.toLocaleLowerCase();return e.find((function(e){return n.includes(e)||c.includes(e)}))}))}())}),[N]),Object(c.useEffect)((function(){d(t),t&&x(t)}),[t]);return Object(r.jsxs)("main",{className:"listing-page",children:[Object(r.jsx)(_,{onSearch:B,onSearchClick:B,onSorting:function(e){return w(e)}}),n&&!a&&Object(r.jsx)(b,{type:"error",children:"Something went wrong!"}),function(){var e=p.map((function(e){return Object(r.jsx)(S,{offer:e},e.uid)})),t=Object(r.jsxs)(b,{type:"error",children:['No results matching "',Object(r.jsx)("strong",{children:N}),'"']});return a?"loading....":Boolean(p.length)?Object(r.jsx)("div",{className:"list",children:e}):t}()]})}n(26);var D=function(){return Object(r.jsxs)("div",{className:"app",children:[Object(r.jsx)(o,{}),Object(r.jsx)(k,{})]})},T=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,29)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};n(27);i.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(D,{})}),document.getElementById("root")),T()}],[[28,1,2]]]);
//# sourceMappingURL=main.b41e14ce.chunk.js.map